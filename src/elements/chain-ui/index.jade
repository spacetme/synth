
link(rel='import' href='../../environment.html')

polymer-element(name='chain-ui' noscript)
  template
    core-style(ref='chain-ui')
    style: :scss
      @import "style";
      :host {
        display: flex;
        flex-wrap: nowrap;
        overflow-x: scroll;
        overflow-y: hidden;
        align-content: stretch;
        flex-shrink: 0;
        padding: 8px;
        background: #353433;
      }
    synth-options-oscillator

polymer-element(name='synth-options-oscillator' noscript)
  template
    chain-item(title='Oscillator')
      synth-vbox(vertical layout style='width:6em')
        synth-item(flex title='Waveform')
          synth-button(flex) Square
        synth-item(title='Mode')
          synth-button-group
            synth-button(title='Mix with previous audio signal') +
            synth-button(title='Use previous audio signal to module frequency') FM
      synth-item(title='Frequency' style='width:6em'): synth-vbox(flex vertical layout start-justified)
        synth-item(title='Base')
          synth-lcd(title='Freq' value='0')
        synth-hbox(horizontal layout justified)
          synth-item(title='LFO:F'): synth-knob
          synth-item(title='LFO:A'): synth-knob
      synth-item(title='Envelope'): synth-hbox(flex horizontal layout justified)
        synth-item(flex title='A'): synth-vslider
        synth-item(flex title='D'): synth-vslider
        synth-item(flex title='S'): synth-vslider
        synth-item(flex title='R'): synth-vslider

polymer-element(name='synth-hbox' noscript)
  template
    style: :scss
      @import "style";
      @include content {
        > :not(:first-child) {
          margin-left: 3px;
        }
        > :not(:last-child) {
          margin-right: 3px;
        }
      }
    content

polymer-element(name='synth-vbox' noscript)
  template
    style: :scss
      @import "style";
      @include content {
        > :not(:first-child) {
          margin-top: 3px;
        }
        > :not(:last-child) {
          margin-bottom: 3px;
        }
      }
    content

polymer-element(name='synth-button' noscript)
  template
    style: :scss
      @import "style";
      :host {
        @extend %center-content;
        border: 1px solid #555453;
        background: #252423 linear-gradient(to bottom, #454443, #252423);
        border-radius: 3px;
        text-align: center;
        padding: 5px 0;
      }
    .content: content

polymer-element(name='synth-button-group' attributes='title' noscript)
  template
    style: :scss
      @import "style";
      :host {
        display: flex;
      }
      @include content {
        > synth-button {
          border-radius: 0;
          flex: 1;
          &:first-child {
            border-radius: 3px 0 0 3px;
          }
          &:not(:last-child) {
            border-right: 0;
          }
          &:last-child {
            border-radius: 0 3px 3px 0;
          }
          &:first-child:last-child {
            border-radius: 3px;
          }
        }
      }
    content

polymer-element(name='synth-item' attributes='title' noscript)
  template
    style: :scss
      @import "style";
      :host {
        display: flex;
        flex-direction: column;
      }
      :host > .title {
        text-align: center;
        color: #8b8685;
        margin-top: 1px;
        @include hint-text;
      }
    content
    .title {{title}}

polymer-element(name='synth-lcd' attributes='value' noscript)
  template
    style: :scss
      :host {
        background: #081a3b;
        border: 1px solid #45c;
        position: relative;
        padding: 4px;
      }
      :host > .content {
        text-align: right;
        font-size: 18px;
        color: #9df;
      }
    .content {{value}}

polymer-element(name='synth-knob' attributes='value' noscript)
  template
    style: :scss
      :host {
        width: 26px;
        height: 26px;
        border-radius: 26px;
        border: 2px solid #9c2;
        position: relative;
        display: block;
      }
    svg(width='26' height='26')
      path(d="M13,13 l-2,0 l2,-12 l2,12 a2,2,0,0,1,-4,0" fill='#99cc22')

polymer-element(name='synth-vslider' attributes='value' noscript)
  template
    style: :scss
      :host {
        display: block;
        position: relative;
        flex: 1;
        height: 100%;
        width: 24px;
      }
      .track {
        position: absolute;
        top: 0; right: 0; bottom: 0; left: 0;
        border: 1px solid #555453;
        background: rgba(0,0,0,0.5);
        border-radius: 24px;
      }
      .knob {
        position: absolute;
        border-radius: 24px;
        left: 0; top: 100%;
        width: 18px; height: 18px;
        background: #8b8685;
      }
      .knob-holder {
        position: absolute;
        top: 2px; left: 2px; bottom: 20px;
      }
    .track
      .knob-holder
        .knob

polymer-element(name='chain-item' attributes='title' noscript)
  template
    style: :scss
      @import "style";
      :host > .title {
        background: #555453 linear-gradient(to bottom, #8b8685, #555453);
        border: 1px solid #8b8685;
        border-radius: 4px 4px 0 0;
        padding: 2px 3px;
      }
      :host > .content {
        background: #151413 linear-gradient(to bottom, #252423, #151413);
        height: 108px;
        border: 1px solid #8b8685;
        border-top: 0;
        border-radius: 0 0 4px 4px;
        padding: 4px;
        @extend .sections;
      }
    .title {{title}}
    synth-hbox.content(layout horizontal): content
